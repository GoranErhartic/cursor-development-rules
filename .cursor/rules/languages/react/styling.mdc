---
description: "Tailwind CSS patterns - design tokens, responsive design, dark mode, cn() utility"
globs: ["**/*.tsx", "tailwind.config.ts", "**/*.css"]
---

# Styling with Tailwind CSS

## Setup

### Tailwind Configuration
```typescript
// tailwind.config.ts
import type { Config } from 'tailwindcss';

export default {
  content: ['./index.html', './src/**/*.{js,ts,jsx,tsx}'],
  darkMode: 'class', // or 'media'
  theme: {
    extend: {
      colors: {
        brand: {
          50: '#f0f9ff',
          100: '#e0f2fe',
          200: '#bae6fd',
          300: '#7dd3fc',
          400: '#38bdf8',
          500: '#0ea5e9',
          600: '#0284c7',
          700: '#0369a1',
          800: '#075985',
          900: '#0c4a6e',
          950: '#082f49',
        },
      },
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
        mono: ['JetBrains Mono', 'monospace'],
      },
      spacing: {
        '128': '32rem',
        '144': '36rem',
      },
      animation: {
        'fade-in': 'fadeIn 0.3s ease-in',
        'slide-up': 'slideUp 0.3s ease-out',
      },
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        slideUp: {
          '0%': { transform: 'translateY(10px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' },
        },
      },
    },
  },
  plugins: [
    require('@tailwindcss/forms'),
    require('@tailwindcss/typography'),
  ],
} satisfies Config;
```

### Global Styles
```css
/* globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 48%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
  }
}
```

## cn() Utility

### Recommended Implementation
```typescript
// lib/utils.ts
import { clsx, type ClassValue } from 'clsx';
import { twMerge } from 'tailwind-merge';

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

// Usage
<div className={cn(
  'base-classes',
  isActive && 'active-classes',
  className
)} />
```

## Component Patterns

### Button Component
```typescript
import { cva, type VariantProps } from 'class-variance-authority';

const buttonVariants = cva(
  // Base styles
  'inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50',
  {
    variants: {
      variant: {
        default: 'bg-primary text-primary-foreground hover:bg-primary/90',
        destructive: 'bg-destructive text-destructive-foreground hover:bg-destructive/90',
        outline: 'border border-input bg-background hover:bg-accent hover:text-accent-foreground',
        secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',
        ghost: 'hover:bg-accent hover:text-accent-foreground',
        link: 'text-primary underline-offset-4 hover:underline',
      },
      size: {
        default: 'h-10 px-4 py-2',
        sm: 'h-9 rounded-md px-3',
        lg: 'h-11 rounded-md px-8',
        icon: 'h-10 w-10',
      },
    },
    defaultVariants: {
      variant: 'default',
      size: 'default',
    },
  }
);

interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean;
}

export function Button({
  className,
  variant,
  size,
  ...props
}: ButtonProps) {
  return (
    <button
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  );
}

// Usage
<Button variant="destructive" size="lg">Delete</Button>
<Button variant="outline" size="sm">Cancel</Button>
```

### Card Component
```typescript
export function Card({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn(
        'rounded-lg border bg-card text-card-foreground shadow-sm',
        className
      )}
      {...props}
    />
  );
}

export function CardHeader({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn('flex flex-col space-y-1.5 p-6', className)}
      {...props}
    />
  );
}

export function CardTitle({ className, ...props }: React.HTMLAttributes<HTMLHeadingElement>) {
  return (
    <h3
      className={cn('text-2xl font-semibold leading-none tracking-tight', className)}
      {...props}
    />
  );
}

export function CardContent({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {
  return <div className={cn('p-6 pt-0', className)} {...props} />;
}

// Usage
<Card>
  <CardHeader>
    <CardTitle>Card Title</CardTitle>
  </CardHeader>
  <CardContent>
    <p>Card content goes here</p>
  </CardContent>
</Card>
```

## Responsive Design

### Breakpoints
```typescript
// Tailwind default breakpoints
// sm: 640px
// md: 768px
// lg: 1024px
// xl: 1280px
// 2xl: 1536px

<div className="
  w-full
  sm:w-1/2
  md:w-1/3
  lg:w-1/4
  xl:w-1/5
">
  Responsive width
</div>

// Mobile-first approach
<div className="text-sm md:text-base lg:text-lg">
  Responsive text
</div>

// Responsive grid
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  {items.map(item => (
    <Card key={item.id}>{item.name}</Card>
  ))}
</div>
```

### Container Queries
```typescript
// Use @container in Tailwind
<div className="@container">
  <div className="@md:flex @lg:grid @lg:grid-cols-2">
    Content adapts to container size
  </div>
</div>
```

## Dark Mode

### Dark Mode Toggle
```typescript
import { useEffect, useState } from 'react';

export function useDarkMode() {
  const [isDark, setIsDark] = useState(() => {
    if (typeof window === 'undefined') return false;
    
    const stored = localStorage.getItem('theme');
    if (stored) return stored === 'dark';
    
    return window.matchMedia('(prefers-color-scheme: dark)').matches;
  });

  useEffect(() => {
    const root = window.document.documentElement;
    root.classList.remove('light', 'dark');
    root.classList.add(isDark ? 'dark' : 'light');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  }, [isDark]);

  return { isDark, toggle: () => setIsDark(!isDark) };
}

// Component
export function DarkModeToggle() {
  const { isDark, toggle } = useDarkMode();

  return (
    <button
      onClick={toggle}
      className="rounded-md p-2 hover:bg-accent"
      aria-label="Toggle dark mode"
    >
      {isDark ? 'üåû' : 'üåô'}
    </button>
  );
}
```

### Dark Mode Styles
```typescript
<div className="
  bg-white dark:bg-gray-900
  text-gray-900 dark:text-gray-100
  border-gray-200 dark:border-gray-700
">
  Content with dark mode support
</div>
```

## Layout Patterns

### Centering
```typescript
// Horizontal center
<div className="flex justify-center">
  <div>Centered horizontally</div>
</div>

// Vertical center
<div className="flex items-center min-h-screen">
  <div>Centered vertically</div>
</div>

// Both
<div className="flex items-center justify-center min-h-screen">
  <div>Centered both ways</div>
</div>

// Grid center
<div className="grid place-items-center min-h-screen">
  <div>Centered with grid</div>
</div>
```

### Flexbox Layouts
```typescript
// Space between
<div className="flex items-center justify-between">
  <div>Left</div>
  <div>Right</div>
</div>

// Vertical stack with gap
<div className="flex flex-col gap-4">
  <div>Item 1</div>
  <div>Item 2</div>
  <div>Item 3</div>
</div>

// Responsive flex direction
<div className="flex flex-col lg:flex-row gap-4">
  <div>Sidebar</div>
  <div>Main content</div>
</div>
```

### Grid Layouts
```typescript
// Auto-fit responsive grid
<div className="grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-4">
  {items.map(item => (
    <Card key={item.id}>{item.name}</Card>
  ))}
</div>

// Named grid areas
<div className="grid grid-areas-[header,sidebar,main,footer] lg:grid-areas-[header_header,sidebar_main,footer_footer]">
  <header className="grid-in-[header]">Header</header>
  <aside className="grid-in-[sidebar]">Sidebar</aside>
  <main className="grid-in-[main]">Main</main>
  <footer className="grid-in-[footer]">Footer</footer>
</div>
```

## Animations

### Built-in Transitions
```typescript
// Hover effects
<button className="transition-colors hover:bg-primary-dark">
  Hover me
</button>

// Transform
<div className="transition-transform hover:scale-105">
  Scales on hover
</div>

// Multiple properties
<button className="transition-all duration-300 ease-in-out hover:scale-110 hover:shadow-lg">
  Animated button
</button>
```

### Custom Animations
```typescript
// Fade in
<div className="animate-fade-in">
  Fades in on mount
</div>

// Slide up
<div className="animate-slide-up">
  Slides up on mount
</div>

// Loading spinner
<div className="h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent" />
```

### Group Hover
```typescript
<div className="group">
  <img src="..." className="transition-transform group-hover:scale-110" />
  <h3 className="transition-colors group-hover:text-primary">
    Title
  </h3>
</div>
```

## Form Styling

### Input Components
```typescript
<input
  type="text"
  className="
    w-full rounded-md border border-input
    bg-background px-3 py-2
    text-sm placeholder:text-muted-foreground
    focus:outline-none focus:ring-2 focus:ring-ring
    disabled:cursor-not-allowed disabled:opacity-50
  "
/>

// With error state
<input
  className={cn(
    'w-full rounded-md border px-3 py-2',
    hasError
      ? 'border-destructive focus:ring-destructive'
      : 'border-input focus:ring-ring'
  )}
/>
```

## Utilities

### Truncate Text
```typescript
// Single line truncate
<p className="truncate">
  Very long text that will be truncated with ellipsis
</p>

// Multi-line truncate
<p className="line-clamp-3">
  Long text that will be truncated after 3 lines with ellipsis
</p>
```

### Scrollable Areas
```typescript
<div className="h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100">
  Long scrollable content
</div>
```

### Aspect Ratios
```typescript
<div className="aspect-video">
  16:9 aspect ratio
</div>

<div className="aspect-square">
  1:1 aspect ratio
</div>
```

## Performance

### Purge CSS in Production
```typescript
// tailwind.config.ts
export default {
  content: [
    './index.html',
    './src/**/*.{js,ts,jsx,tsx}',
  ],
  // Tailwind automatically purges unused classes in production
} satisfies Config;
```

## Best Practices

- ‚úÖ Use `cn()` utility for conditional classes
- ‚úÖ Define design tokens in tailwind.config
- ‚úÖ Use CVA for component variants
- ‚úÖ Follow mobile-first approach
- ‚úÖ Use semantic color names
- ‚úÖ Leverage Tailwind plugins (@tailwindcss/forms, @tailwindcss/typography)
- ‚úÖ Use CSS variables for theming
- ‚úÖ Implement dark mode support
- ‚úÖ Keep utility classes in logical order
- ‚úÖ Extract repeated patterns into components

## Anti-Patterns

- ‚ùå Inline styles instead of Tailwind classes
- ‚ùå Creating custom CSS for everything
- ‚ùå Not using design tokens
- ‚ùå Hardcoding colors and sizes
- ‚ùå Overly long className strings (extract components)
- ‚ùå Not using responsive utilities
- ‚ùå Forgetting dark mode variants
- ‚ùå Mixing Tailwind with other CSS frameworks
- ‚ùå Not configuring content paths properly
- ‚ùå Using arbitrary values excessively

## Tailwind IntelliSense

```json
// .vscode/settings.json
{
  "tailwindCSS.experimental.classRegex": [
    ["cva\\(([^)]*)\\)", "[\"'`]([^\"'`]*).*?[\"'`]"],
    ["cn\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"]
  ],
  "editor.quickSuggestions": {
    "strings": true
  }
}
```

**See also:** `components.mdc`, `accessibility.mdc`, `performance.mdc`
